def build_prompt(word: dict) -> str:
    """Формирует полный промт для модели с учетом японской морфологии"""
    return f"""
1. Слово и перевод

Напиши слово в формате:

Кандзи: {word['kanji']} (если есть)

Кана: {word['kana']}

Перевод: {word['translations']} (основной вариант) + остальные, если их несколько.

2. Происхождение

Если есть кандзи: объясни их связь со значением (например: «電 (ден) — "электричество" + 話 (ва) — "разговор" → 電話 (денва) — "телефон"»).

Если слово заимствованное (например, パン — «хлеб» из португальского «pão»), укажи источник.

Для исконно японских слов (например, こころ) — объясни этимологию, если она известна.

3. Разбор иероглифов (только если есть {word['kanji']}!)

Для каждого кандзи в слове:

Кандзи: 字

Онъёми/Кунъёми: он-ёми / кун-ёми

Значение: ...

Пример: 愛 (あい, ai) — «любовь» (онъёми: アイ, кунъёми: いとしい).

4. Примеры предложений

3 примера с нарастающей сложностью:

Простое (N5): {word['kanji']}/{word['kana']} + базовая грамматика.

Среднее (N3-N2): с союзами или частицами (например, ので, のに).

Сложное (N1+): идиоматичное использование или редкие конструкции.

Разбор грамматики для каждого примера.

5. Культурный контекст

Как слово связано с традициями/современной жизнью Японии?

Есть ли известные цитаты, пословицы или анекдоты с этим словом?

6. Употребимость

Частота: Редкое / Повседневное / Сленг / Формальное.

Контекст: Разговорная речь, литература, аниме, бизнес-японский и т.д.
""".strip()
